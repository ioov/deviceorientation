<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title>orientation</title>
	<style>
	#compass {
		margin: 0 auto;
		width: 90%;
		background-image: url(http://p3.so.qhmsg.com/bdr/_240_/t0141706ee4b315db18.jpg);
		background-size: cover;
		transform-origin: center center;
		-moz-transform-origin: center center;
		-webkit-transform-origin: center center;
	}
	</style>
</head>

<body>
	<div id="compass"></div>
	<script>
	var compass = document.getElementById('compass'),
		w = compass.offsetWidth;

	compass.style.height = w + 'px';

	if (window.DeviceOrientationEvent) {

		window.addEventListener('deviceorientation', function(event) {
			var alpha;
			//     判斷是否為 iOS 裝置
			if (event.webkitCompassHeading) {
				alpha = event.webkitCompassHeading; // iOS 裝置必須使用 event.webkitCompassHeading
				compass.style.WebkitTransform = 'rotate(-' + alpha + 'deg)';
				show.innerHTML = alpha;
			} else {
				alpha = event.alpha;
				webkitAlpha = alpha;
				if (!window.chrome) {
					webkitAlpha = alpha - 270;
				}
			}

			compass.style.Transform = 'rotate(' + alpha + 'deg)';
			compass.style.WebkitTransform = 'rotate(' + webkitAlpha + 'deg)';
			compass.style.MozTransform = 'rotate(-' + alpha + 'deg)';
		}, false);

	} else {
		alert("设备不支持deviceorientation事件")
	}
	</script>
</body>

</html>
